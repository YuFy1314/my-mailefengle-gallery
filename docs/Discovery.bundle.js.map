{"version":3,"file":"Discovery.bundle.js","sources":["webpack:///./src/components/Discovery/Discovery.vue?451e","webpack:///./src/components/Discovery/Discovery.vue?e2fc","webpack:///./src/components/Discovery/Discovery.vue?e0d3","webpack:///./src/components/Discovery/Discovery.vue?fa71","webpack:///./src/components/Discovery/Discovery.vue","webpack:///./src/components/Discovery/Discovery.vue?65c8","webpack:///./src/components/Discovery/Discovery.vue?d200","webpack:///./src/components/Discovery/Discovery.vue?cfa9"],"sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n#discovery .demo-loadmore-wrap {\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n#discovery .demo-loadmore-wrap .mu-appbar {\\n  width: 100%;\\n}\\n#discovery .demo-loadmore-wrap .demo-loadmore-content {\\n  flex: 1;\\n  overflow: auto;\\n  -webkit-overflow-scrolling: touch;\\n}\\n#discovery .demo-loadmore-wrap .container {\\n  padding: 0;\\n}\\n#discovery .demo-loadmore-wrap .myList {\\n  display: flex;\\n}\\n#discovery .demo-loadmore-wrap .myList .mu-list {\\n  margin: 2px;\\n  padding: 0;\\n}\\n#discovery .demo-loadmore-wrap .myList .mu-list > li {\\n  margin-bottom: 4px;\\n}\\n#discovery .demo-loadmore-wrap .myList .mu-item {\\n  height: auto;\\n  padding: 0;\\n}\\n#discovery .demo-loadmore-wrap .myList .mu-item img {\\n  width: 100%;\\n  height: 100%;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Discovery.vue?vue&type=style&index=0&lang=less&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Discovery.vue?vue&type=style&index=0&lang=less&\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Discovery.vue?vue&type=style&index=0&lang=less&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            refreshing: false,\r\n            loading: false,\r\n            isGallery: false,\r\n            aGallery: [],\r\n            aGalleryLeft: [],\r\n            aGalleryRight: [],\r\n            start: 0, // 分页使用表示第个数据\r\n            iLeftTotal: 0, // 左瀑布流的高度\r\n            iRightTotal: 0, // 右瀑布流的高度\r\n        }\r\n    },\r\n    mounted() {\r\n        this.$nextTick(() => {\r\n            let iMainHeight = $(window).height() - $('#header').height() - $('#footer').height();\r\n            $('.main .demo-loadmore-wrap').css({\r\n                height: iMainHeight + 'px'\r\n            });\r\n            this.initData();\r\n        });\r\n    },\r\n    methods: {\r\n        initData() {\r\n            this.$http.jsonp('http://api.douban.com/v2/movie/top250?start=' + this.start + '&count=10')\r\n                .then(response => {\r\n                    for (let item of response.body.subjects) {\r\n                        if (!this.aGalleryLeft.length) {\r\n                            this.aGalleryLeft.push(item);\r\n                            setTimeout(() => {\r\n                                $('#waterpull_left .mu-item img').css({\r\n                                    height: this.rnd(180, 220) + 'px'\r\n                                });\r\n                                this.iLeftTotal += $('#waterpull_left .mu-item img').height();\r\n                            }, 0);\r\n                        } else if (!this.aGalleryRight.length) {\r\n                            this.aGalleryRight.push(item);\r\n                            setTimeout(() => {\r\n                                $('#waterpull_right .mu-item img').css({\r\n                                    height: this.rnd(180, 220) + 'px'\r\n                                });\r\n                                this.iRightTotal += $('#waterpull_right .mu-item img').height();\r\n                            }, 0);\r\n                        } else {\r\n                            setTimeout(() => {\r\n                                // console.log(this.iLeftTotal, this.iRightTotal)\r\n                                if (this.iLeftTotal <= this.iRightTotal) {\r\n                                    this.aGalleryLeft.push(item);\r\n                                    setTimeout(() => {\r\n                                        this.iLeftTotal += $('#waterpull_left .mu-item img').height();\r\n                                        // console.log(this.iLeftTotal)\r\n                                        $('#waterpull_left .mu-item img').css({\r\n                                            height: this.rnd(180, 220) + 'px'\r\n                                        });\r\n                                    }, 0);\r\n                                    // console.log(this.iLeftTotal)\r\n                                } else {\r\n                                    this.aGalleryRight.push(item);\r\n                                    setTimeout(() => {\r\n                                        $('#waterpull_right .mu-item img').css({\r\n                                            height: this.rnd(180, 220) + 'px'\r\n                                        });\r\n                                        this.iRightTotal += $('#waterpull_right .mu-item img').height();\r\n                                    }, 0);\r\n                                }\r\n                            }, 0);\r\n                        }\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                });\r\n        },\r\n        rnd(n, m) {\r\n            return Math.floor(Math.random() * (m - n) + n);\r\n        },\r\n        refresh() {\r\n            this.refreshing = true;\r\n            this.$refs.container.scrollTop = 0;\r\n            setTimeout(() => {\r\n                this.refreshing = false;\r\n                this.aGallery = [];\r\n                this.start = 0;\r\n                this.initData();\r\n            }, 2000)\r\n        },\r\n        load() {\r\n            this.loading = true;\r\n            setTimeout(() => {\r\n                this.loading = false;\r\n                this.start += 10;\r\n                this.initData();\r\n            }, 2000)\r\n        }\r\n    }\r\n}\r\n\r\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { attrs: { id: \"discovery\" } },\n    [\n      _c(\n        \"mu-paper\",\n        { staticClass: \"demo-loadmore-wrap\", attrs: { \"z-depth\": 5 } },\n        [\n          _c(\n            \"mu-container\",\n            { ref: \"container\", staticClass: \"demo-loadmore-content\" },\n            [\n              _c(\n                \"mu-load-more\",\n                {\n                  attrs: { refreshing: _vm.refreshing, loading: _vm.loading },\n                  on: {\n                    refresh: function($event) {\n                      _vm.refresh()\n                    },\n                    load: function($event) {\n                      _vm.load()\n                    }\n                  }\n                },\n                [\n                  _c(\n                    \"div\",\n                    { staticClass: \"myList\" },\n                    [\n                      _c(\n                        \"mu-list\",\n                        { attrs: { id: \"waterpull_left\" } },\n                        [\n                          _vm._l(_vm.aGalleryLeft, function(item) {\n                            return [\n                              _c(\"mu-list-item\", [\n                                _c(\"img\", {\n                                  attrs: {\n                                    src: item.images.large,\n                                    alt: item.title\n                                  }\n                                })\n                              ])\n                            ]\n                          })\n                        ],\n                        2\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"mu-list\",\n                        { attrs: { id: \"waterpull_right\" } },\n                        [\n                          _vm._l(_vm.aGalleryRight, function(item) {\n                            return [\n                              _c(\"mu-list-item\", [\n                                _c(\"img\", {\n                                  attrs: {\n                                    src: item.images.large,\n                                    alt: item.title\n                                  }\n                                })\n                              ])\n                            ]\n                          })\n                        ],\n                        2\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"mu-list\",\n                        {\n                          directives: [\n                            {\n                              name: \"show\",\n                              rawName: \"v-show\",\n                              value: _vm.isGallery,\n                              expression: \"isGallery\"\n                            }\n                          ],\n                          attrs: { id: \"mylist\" }\n                        },\n                        [\n                          _vm._l(_vm.aGallery, function(item) {\n                            return [\n                              _c(\"mu-list-item\", [\n                                _c(\"img\", {\n                                  attrs: {\n                                    src: item.images.large,\n                                    alt: item.title\n                                  }\n                                })\n                              ])\n                            ]\n                          })\n                        ],\n                        2\n                      )\n                    ],\n                    1\n                  )\n                ]\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Discovery.vue?vue&type=template&id=1acf8971&\"\nimport script from \"./Discovery.vue?vue&type=script&lang=js&\"\nexport * from \"./Discovery.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Discovery.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\GitHub\\\\my-mailefengle-gallery\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('1acf8971', component.options)\n    } else {\n      api.reload('1acf8971', component.options)\n    }\n    module.hot.accept(\"./Discovery.vue?vue&type=template&id=1acf8971&\", function () {\n      api.rerender('1acf8971', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/Discovery/Discovery.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Discovery.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Discovery.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/style-loader/index.js!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Discovery.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/style-loader/index.js!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Discovery.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Discovery.vue?vue&type=template&id=1acf8971&\""],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnBA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnIA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxHA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACvCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}